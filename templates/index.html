<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CalorieFlow - Bootstrap Customization Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        /* Define custom colors */
        :root {
            --cf-bg-primary: #051134; 
            --cf-nav-bg: #7ECCC4;    
            --cf-btn-main: #8BC4BE;    
            --cf-text-light: #f3f4f6;
        }

        /* 1. Global Styles and Background */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--cf-bg-primary);
            color: var(--cf-text-light);
            scroll-behavior: smooth;
        }

        /* Styles for the dynamic hero background gradient */
        .hero-section {
            background-color: var(--cf-bg-primary);
            background-image: radial-gradient(at 0% 0%, rgba(126, 204, 196, 0.2) 0%, transparent 50%),
                                     radial-gradient(at 100% 100%, rgba(5, 17, 52, 1) 0%, transparent 100%);
            min-height: 100vh;
            padding-top: 10rem; /* Space for fixed navbars */
            padding-bottom: 4rem;
        }

        /* 2. Custom Navbar Overrides */
        #navbar-main, #navbar-secondary {
            background-color: var(--cf-nav-bg) !important; /* Override Bootstrap's background */
            transition: all 0.3s ease-in-out;
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
            z-index: 20;
        }
        
        .navbar-main-hidden {
            transform: translateY(-100%);
            opacity: 0;
            pointer-events: none;
        }

        .navbar-secondary-visible {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }
        
        /* New rule: Darken the account icon on hover by targeting the SVG stroke */
        #navbar-main .btn:hover svg {
            stroke: #1f2937 !important; /* Darken the icon's color */
        }

        /* 3. Custom Button Overrides */
        .nav-button {
            background-color: var(--cf-btn-main) !important;
            color: #1f2937 !important; /* Dark text for contrast */
            border: none;
            border-radius: 9999px !important; /* Fully rounded */
            padding: 8px 16px;
            font-weight: 600;
            transition: background-color 0.2s;
        }
        .nav-button:hover {
            background-color: #1f2937 !important; /* Dark hover background */
            color: white !important;
        }

        /* Override Bootstrap's default H1 color and margin */
        .hero-title {
            color: white !important;
            font-weight: 800;
            line-height: 1.1;
        }

        /* Main Start Button */
        #start-today-btn {
            background-color: var(--cf-btn-main) !important;
            color: var(--cf-bg-primary) !important;
            font-weight: bold !important;
            padding: 1rem 3rem !important;
            border-radius: 9999px !important;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        #start-today-btn:hover {
            background-color: white !important;
            transform: scale(1.05);
        }

        /* Section Styling */
        .section-content {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            color: var(--cf-nav-bg);
        }
    </style>
</head>
<body class="min-h-screen">

    <nav id="navbar-main" class="navbar navbar-expand-lg">
        <div class="container-fluid max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 container">
            <a class="navbar-brand text-dark d-flex align-items-center" href="#">
                
                <span class="fw-bold fs-5">CalorieFlow</span>
            </a>
            <div class="ms-auto">
                <button class="btn btn-sm p-2 rounded-circle hover-bg-white-30" type="button" aria-label="Account">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-dark"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                </button>
            </div>
        </div>
    </nav>

    <nav id="navbar-secondary" class="navbar navbar-expand-lg navbar-main-hidden">
        <div class="container-fluid max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="d-flex justify-content-center w-100">
                <a href="#how-it-works" class="nav-button btn btn-primary mx-3">How it works</a>
                <a href="#vision" class="nav-button btn btn-primary mx-3">Vision</a>
                <a href="#q-a" class="nav-button btn btn-primary mx-3">Q&A</a>
            </div>
        </div>
    </nav>

    <main class="hero-section">
        <div class="container max-w-7xl">
            <div class="row align-items-center">
                
                <div class="col-lg-6 text-center text-lg-start space-y-4">
                    <h1 class="hero-title display-1 fw-bolder mb-4">
                        Discover 
                        <span style="color:var(--cf-nav-bg);" class="d-block d-lg-inline">Your Health</span>
                        Goals and <span class="d-block d-lg-inline">Achieve Them</span>
                    </h1>
                    
                    <div class="mt-5 d-flex flex-column align-items-center align-items-lg-start">
                        <a href="{{ url_for('register') }}">
                        <button id="start-today-btn" class="btn btn-lg mb-3">
                            Start Tracking Today
                        </button></a>
                        
                        <p class="text-sm text-secondary">
                            Already a user?
                            <a href="{{ url_for('login') }}" style="color:var(--cf-nav-bg);" class="text-decoration-underline-hover">
                                Log in to your account
                            </a>
                        </p>
                    </div>
                </div>
                
                <div class="col-lg-6 mt-5 mt-lg-0 d-flex justify-content-center">
                    <img src="Image1.png" alt="Health Tracking Graphic" class="img-fluid rounded-3 shadow-lg opacity-90" style="max-width: 2000px ;">
                </div>
            </div>
        </div>
    </main>

    <section id="how-it-works" class="py-5" style="background-color: rgba(255, 255, 255, 0.05);">
        <div class="container max-w-5xl">
            <h2 class="text-center section-title fs-1 fw-bold mb-5">How It Works: Simple, Scientific Tracking</h2>
            <div class="row g-4 text-center">
                <div class="col-md-4">
                    <div class="section-content p-4 h-100">
                        <span class="fs-2 fw-bold" style="color:var(--cf-btn-main);">1</span>
                        <h3 class="fs-4 fw-semibold mt-3 text-white">Setup Your Profile</h3>
                        <p class="text-secondary">Enter your core metrics (weight, height, age, activity level) once. Our Flask back-end uses scientifically verified formulas to calculate your optimal calorie goal (TDEE).</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="section-content p-4 h-100">
                        <span class="fs-2 fw-bold" style="color:var(--cf-btn-main);">2</span>
                        <h3 class="fs-4 fw-semibold mt-3 text-white">Log Meals & Workouts</h3>
                        <p class="text-secondary">Quickly search our curated food database to log meals. Log your activities. JavaScript instantly sends the data, and Flask calculates the true calories consumed or burned.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="section-content p-4 h-100">
                        <span class="fs-2 fw-bold" style="color:var(--cf-btn-main);">3</span>
                        <h3 class="fs-4 fw-semibold mt-3 text-white">Achieve Your Goal</h3>
                        <p class="text-secondary">View your real-time net calorie balance. Track your weight changes and progress on intuitive charts, powered by structured data from your database.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="vision" class="py-5">
        <div class="container max-w-5xl">
            <h2 class="text-center section-title fs-1 fw-bold mb-5">Our Vision for Health Flow</h2>
            <div class="section-content p-5 text-center">
                <p class="fs-5 text-secondary lead">
                    We envision a world where achieving health goals is not a struggle of guesswork, but a predictable flow of accurate data and informed decisions. CalorieFlow is built on the principle that if you track the right inputs (calories, macros, activity) with scientific accuracy (BMR/TDEE formulas), the outputs (progress, goals) will naturally follow. We aim to be the simplest, most transparent, and most reliable health tracking tool available.
                </p>
                <p class="fs-6 fw-semibold pt-4" style="color:var(--cf-btn-main);">â€” The CalorieFlow Development Team</p>
            </div>
        </div>
    </section>

    <section id="q-a" class="py-5" style="background-color: rgba(255, 255, 255, 0.05);">
        <div class="container max-w-5xl">
            <h2 class="text-center section-title fs-1 fw-bold mb-5">Q&A: Addressing Common Questions</h2>
            <div class="space-y-4">
                <div class="section-content p-4 mb-3">
                    <h3 class="fs-5 fw-semibold text-white">Q: How accurate are your calorie burned estimates?</h3>
                    <p class="text-secondary mt-2">A: We use the **MET (Metabolic Equivalent of Task)** system, which is based on standardized scientific data, combined with your personal **weight** and workout **duration**. While no wearable-free method is 100% accurate, this formula provides the highest level of reliable estimation for web-based tracking.</p>
                </div>
                <div class="section-content p-4 mb-3">
                    <h3 class="fs-5 fw-semibold text-white">Q: What happens to my data?</h3>
                    <p class="text-secondary mt-2">A: Your data is stored securely in our database. We only use your information (age, weight, activity level) for one purpose: calculating your calorie goals and tracking your progress. We do not share or sell personalized tracking data.</p>
                </div>
                <div class="section-content p-4 mb-3">
                    <h3 class="fs-5 fw-semibold text-white">Q: Can I customize my calorie goal manually?</h3>
                    <p class="text-secondary mt-2">A: A: Yes. While our system provides an optimal science-based goal, you can override this target in your user profile settings to meet your specific dietary needs or doctor's recommendations.</p>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const navbarMain = document.getElementById('navbar-main');
        const navbarSecondary = document.getElementById('navbar-secondary');
        let lastScrollY = window.scrollY;

        // Note: The height of the main navbar is less reliable here due to Bootstrap's styling, 
        // so we use a small buffer.
        const navHeightBuffer = 80; 

        function handleScroll() {
            const currentScrollY = window.scrollY;

            // Show/hide secondary navbar when scrolling down past the initial view
            if (currentScrollY > navHeightBuffer) {
                if (currentScrollY > lastScrollY) {
                    // Scrolling DOWN: Hide Main Navbar, Show Secondary Navbar
                    navbarMain.classList.add('navbar-main-hidden');
                    navbarSecondary.classList.add('navbar-secondary-visible');
                } else {
                    // Scrolling UP: Show Main Navbar, Hide Secondary Navbar
                    navbarMain.classList.remove('navbar-main-hidden');
                    navbarSecondary.classList.remove('navbar-secondary-visible');
                }
            } else {
                // At the very top: Ensure secondary navbar is visible and secondary is hidden
                navbarMain.classList.remove('navbar-main-hidden');
                navbarSecondary.classList.remove('navbar-secondary-visible');
            }

            lastScrollY = currentScrollY;
        }

        // Attach the scroll handler
        window.addEventListener('scroll', handleScroll);
        
        // Ensure secondary navbar is hidden on page load
        document.addEventListener('DOMContentLoaded', () => {
            navbarSecondary.classList.add('navbar-main-hidden');
        });

        // The broken JavaScript code has been removed.
    </script>
</body>
</html>